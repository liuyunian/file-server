# file-server

## 使用方法
```
将项目克隆到本地，cd到file-server目录下，执行下面的脚本命令
```

## 脚本命令
```
npm install # 安装依赖

npm start # 默认方式运行，主机：127.0.0.1；端口：3333；根目录：file-server目录

npm start -- -p 8080 # 设置端口号为8080

npm start -- -h 10.15.5.200 # 设置host为10.15.5.200

npm start -- -d /usr # 设置根目录为/usr
```

## 基础版后续要增加的feature
```
（已完成）1. 表格列举文件的详细信息
（已完成）2. 上传文件
（已完成）3. 显示文件作者
（已完成）4. 对文件信息中的文件大小进行处理，单位随文件变化
（已完成）5. 单个文件下载
（已完成）6. 目录下全部文件下载
（已完成）7. 目录压缩下载
（已完成）8. 返回上一级目录
9. 文件或者文件夹的图标
10. 弹窗显示文件上传成功、文件下载成功、新建目录成功
11. 可选的文件批量下载
12. 异常处理，增强代码的健壮性
```

## bugs
```
（已解决）1. 重定向的路径如果是中文的话会出问题（原因：响应头部编码格式的问题）
（已解决）2. 浏览器按返回键之后，路径记录currentPath没有更新（原因：浏览器缓存页面，后退不请求服务器）
```

## 版本说明
#### v1.0.0 基础版本
```
实现：原生node.js + handlebars
功能：读取路径下的文件列表，以列表形式显示
```

#### v1.1.0
```
新增feature：以表格形式显示文件列表，并显示文件所有者、大小、创建日期等文件信息
```

#### v1.2.0
```
新增feature：上传文件
```

#### v1.2.1
```
简单重构了代码：文件显示提取函数，文件上传单独封装模块
优化了表格显示文件信息，提取文件作者，文件大小单位动态调整
```

#### v1.3.0
```
新增feature：新建文件夹
```

#### v1.4.0
```
新增feature：文件和文件夹下载
```

#### v1.4.1
```
修复bug：修复浏览器按返回键之后，路径记录currentPath没有更新的问题
```

#### v1.5.1
```
新增feature：增加返回上级目录的功能
修复bug：修复重定向的路径如果是中文的话会出问题
```

#### v1.5.2
```
简单重构，用Promise和async/await改写回调函数
修复bug：文件显示是中文乱码
```

#### v1.5.3
```
优化代码格式
更新npm依赖
```